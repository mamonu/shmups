<!DOCTYPE html>
<html>
<head>
    <title>Shmups</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f0f0f0; }
        .header { background-color: #333; color: white; padding: 10px; text-align: center; }
        .nav { background-color: #000; overflow: hidden; }
        .nav a { float: left; display: block; color: white; text-align: center; padding: 14px 16px; text-decoration: none; }
        .nav a:hover { background-color: #ddd; color: black; }
        #shmupCanvas { background-color: #000; }
    </style>
</head>
<body>

<div class="header">
    <h1>Welcome to  Shmups</h1>
</div>

<div class="nav">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="gallery.html">Gallery</a>
</div>

<canvas id="shmupCanvas" width="1920" height="768"></canvas>
<script>
    var canvas = document.getElementById('shmupCanvas');
    var ctx = canvas.getContext('2d');
    ctx.globalCompositeOperation = 'lighter'; // Blending mode to create glow effect


    var bullets = [];
    var spiralAngle = 0;
    var spaceshipImage = new Image();
    spaceshipImage.src = '8bitspaceship.png';

    function createSpiralBullets() {
        var numberOfBullets = 20;
        var centerX = canvas.width / 2;
        var centerY = canvas.height / 2;
        spiralAngle += 0.05; 

        for (var i = 0; i < numberOfBullets; i++) {
            var angle = (Math.PI * 2 / numberOfBullets) * i + spiralAngle;
            var speed = 2;
            bullets.push({ x: centerX, y: centerY, angle: angle, speed: speed });
        }
    }



function drawSpaceship() {
    var desiredWidth = 120; 
    var scale = desiredWidth / spaceshipImage.width; 
    var scaledHeight = spaceshipImage.height * scale; 

    var spaceshipX = canvas.width / 2 - desiredWidth / 2; // Center the spaceship horizontally
    var spaceshipY = canvas.height - scaledHeight; // Position the spaceship at the bottom

    ctx.drawImage(spaceshipImage, spaceshipX, spaceshipY, desiredWidth, scaledHeight);
}


 var particles = []; // Array to hold particle objects

    function createParticle() {
        var particle = {
            x: Math.random() * canvas.width,
            y: 0,
            size: Math.random() * 3 + 2,
            color: `hsl(${Math.random() * 360}, 100%, 70%)`, // Bright color for a glow effect
            velocityX: Math.random() * 2 - 1,
            velocityY: Math.random() * 2 + 2,
            lifespan: 90 // Shorter lifespan for a more dynamic effect
        };
        particles.push(particle);
    }

function updateParticles() {
        for (var i = particles.length - 1; i >= 0; i--) {
            var p = particles[i];
            p.x += p.velocityX;
            p.y += p.velocityY;
            p.lifespan -= 1;

            if (p.lifespan <= 0) {
                particles.splice(i, 1);
            } else {
                var gradient = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size);
                gradient.addColorStop(0, p.color);
                gradient.addColorStop(1, 'rgba(0, 0, 0, 0)'); // Fades to transparent
         ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
            ctx.fill();
        }
    }
}


    
   function update() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawSpaceship();
        updateBullets();
        updateParticles(); // Update the particles
        requestAnimationFrame(update);
    }

    

    function updateBullets() {
        for (var i = bullets.length - 1; i >= 0; i--) {
            var b = bullets[i];
            b.x += Math.cos(b.angle) * b.speed;
            b.y += Math.sin(b.angle) * b.speed;

            if (b.x < 0 || b.x > canvas.width || b.y < 0 || b.y > canvas.height) {
                bullets.splice(i, 1);
            } else {
                ctx.beginPath();
                ctx.arc(b.x, b.y, 5, 0, Math.PI * 2);
                ctx.fillStyle = 'purple';
                ctx.fill();
                ctx.closePath();
            }
        }
    }


    setInterval(createSpiralBullets, 1000);
    setInterval(createParticle, 100); // Regularly create particles
    update();

    
</script>

</body>
</html>
